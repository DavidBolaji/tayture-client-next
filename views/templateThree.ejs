<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:v="urn:schemas-microsoft-com:vml"
  xmlns:o="urn:schemas-microsoft-com:office:office"
>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="x-apple-disable-message-reformatting" />
    <!--[if !mso]><!-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--<![endif]-->

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @font-face {
        font-family: "br";
        src: url("fonts/BR_Firma_Regular.otf");
      }
      @font-face {
        font-family: "br-bold";
        src: url("fonts/BR_Firma_Bold.otf");
      }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              br: ["br", "sans-serif"],
              brBold: ["br-bold", "sans-serif"],
            },
          },
        },
      };

      // Script to hide the #main div if page is not the first page
    </script>
  </head>

  <body class="">
    <div class="flex bg-[#303846]">
      <div class="flex-[0.2] w-full h-40 flex items-center justify-center">
        <img
          src="<%= data.profilePicture %>"
          alt="Profile Picture"
          class="w-full h-full object-cover"
        />
      </div>
      <div class="flex-[0.8] pl-5 flex justify-center flex-col">
        <h1 class="text-4xl font-bold brBold text-white"><%= data.name %></h1>
        <p class="text-md br mt-1 pl-1 text-white font-bold">
          <%= data.title %>
        </p>
        <div class="flex flex-wrap gap-5 mt-2 pl-1">
          <div class="flex gap-1 items-center">
            <div>
              <i class="fa fa-envelope-o text-white"></i>
            </div>
            <div class="text-xs text-white"><%= data.email %></div>
          </div>
          <div class="flex gap-1 items-center">
            <div>
              <i class="fa fa-phone text-white"></i>
            </div>
            <div class="text-xs text-white"><%= data.phone %></div>
          </div>
          <div class="flex gap-1 items-center">
            <div>
              <i class="fa fa-map-marker text-white"></i>
            </div>
            <div class="text-xs text-white"><%= data.location %></div>
          </div>
        </div>
      </div>
    </div>

    <div class="br grid grid-cols-10 relative" style="border-radius: 0.375rem">
      <div
        class="max-w-[700px] mt-4 px-[1.25rem] h-auto col-span-7 bg-[<% colorList.foreground %>]"
      >
        <h2
          class="text-xl font-bold brBold uppercase border-b border-gray-300 pb-2"
        >
          Summary
        </h2>
        <p class="text-[<%= colorList.colorParagraph %>] mb-6">
          <%= data.summary %>
        </p>
        <div class="mb-6">
          <h2
            class="text-xl font-bold brBold uppercase border-b border-gray-300 pb-2"
          >
            Education
          </h2>
          <!-- Education Content -->
          <% data.education.forEach(edu => { %>
          <div class="mt-4">
            <div class="flex justify-between items-center mb-2">
              <p class="font-bold text-md uppercase brBold">
                <%= edu.degree %>
              </p>
              <p class="text-sm"><%= edu.year %></p>
            </div>
            <p class="text-sm font-bold"><%= edu.school %></p>
            <p class="text-xs font-bold"><%= edu.more %></p>
          </div>
          <% }) %>
        </div>
        <div class="mb-6">
          <h2
            class="text-xl font-bold brBold uppercase border-b border-gray-300 pb-2"
          >
            Employment
          </h2>
          <% data.employment.forEach(job => { %>
          <div class="mt-4">
            <div class="flex justify-between items-center mb-2">
              <p class="font-bold text-md uppercase brBold"><%= job.title %></p>
              <p class="text-sm"><%= job.date %></p>
            </div>
            <p class="text-sm font-bold"><%= job.location %></p>
            <ul class="list-disc ml-4 text-sm space-y-1 mt-2">
              <% job.roles.forEach(role => { %> <% if (role.length === 2) { %>
              <li>
                <strong><%= role[0] %></strong>
                <p><%= role[1] %></p>
              </li>
              <% } else { %>
              <li><%= role[0] %></li>
              <% } %> <% }) %>
            </ul>
          </div>
          <% }) %>
        </div>

        <div class="mb-6">
          <h2
            class="text-xl font-bold brBold uppercase border-b border-gray-300 pb-2"
          >
            Certificates
          </h2>
          <% data.certificates.forEach(cert => { %>
          <div class="flex justify-between items-center mt-4">
            <a
              href="<%= cert.link %>"
              target="_blank"
              class="text-md brBold text-blue-500 hover:underline"
              ><%= cert.name %></a
            >
            <p class="text-sm"><%= cert.date %></p>
          </div>
          <% }) %>
        </div>
      </div>
      <div
        id="main"
        class="px-[1.25rem] border-l right-0 fixed <%=page === 1 ? 'top-[185px]' : 'top-0' %> bottom-0 col-span-3 w-[240px] bg-[<%= colorList.background %>]"
      >
        <% if (page === 1) { %>
        <% if (data.skills) { %>
           <div class="">
          <h2
            class="text-xl font-bold brBold uppercase border-b-2 border-gray-300 pb-2 text-gray-800"
          >
            Skills
          </h2>
          <ul class="mt-1 space-y-4">
            <% data.skills.forEach(skill => { %>
            <li>
              <div class="flex justify-between text-sm mb-1 text-gray-800">
                <span><%= skill.name %></span>
                <span><%= skill.scale %>%</span>
              </div>
              <div class="w-full bg-gray-300 rounded-full h-2.5">
                <div
                  class="bg-black h-2.5 rounded-full w-[<%= skill.scale %>%]"
                ></div>
              </div>
            </li>
            <% }) %>
          </ul>
        </div>
        <% } %>
        <div class="mt-6">
          <h2
            class="text-xl font-bold brBold uppercase border-b-2 border-gray-300 pb-2 text-gray-800"
          >
            Languages
          </h2>
          <ul class="mt-1 space-y-4">
            <% data.languages.forEach(language => { %>
            <li>
              <div class="flex justify-between text-sm text-gray-800 mb-1">
                <span><%= language.name %></span>
                <span><%= language.scale %>%</span>
              </div>
              <div class="w-full bg-gray-300 rounded-full h-2.5">
                <div
                  class="bg-black h-2.5 rounded-full w-[<%= language.scale %>%]"
                ></div>
              </div>
            </li>
            <% }) %>
          </ul>
        </div>
        <div class="mt-6">
          <h2
            class="text-xl font-bold brBold uppercase border-b-2 border-gray-300 pb-2 text-gray-800"
          >
            Hobbies
          </h2>
          <ul class="list-disc mt-2 ml-4 space-y-4 text-sm">
            <% data.hobbies.forEach(hobby => { %>
            <li class="text-gray-800 mb-1 font-semibold"><%= hobby %></li>
            <% }) %>
          </ul>
        </div>
        <% } %>
      </div>
    </div>
  </body>
</html>
